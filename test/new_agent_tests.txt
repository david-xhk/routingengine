# Tests for new_agent


## Test Suite 1: Valid inputs
Title            : Skill with type index
ID               : 1.1
Input            : new_agent {skills:{1:true, 2:true}}
Expected Result  : success
Expected Payload : {<--agent json object-->}

Title            : Skill with type string
ID               : 1.2
Input            : new_agent {skills:{"GENERAL_ENQUIRY":true, "CHECK_BILL":true}}
Expected Result  : success
Expected Payload : {<--agent json object-->}

Title            : Skill, address
ID               : 1.3
Input            : new_agent {skills:{"GENERAL_ENQUIRY":true}, address:127.0.0.1}
Expected Result  : success
Expected Payload : {<--agent json object-->}
Comments         : Address field is optional, defaults to the socket's host address


## Test Suite 2: Errors for skill input
Title            : Missing skills case 1
ID               : 2.1.1
Input            : new_agent {skills:{}}
Expected Result  : failure
Expected Payload : "skill missing"

Title            : Missing skills case 2
ID               : 2.1.2
Input            : new_agent {skills:{999:true,-1:true}}
Expected Result  : failure
Expected Payload : "skill missing"
Comments         : Invalid skill type index should be ignored silently

Title            : Missing skills case 3
ID               : 2.1.3
Input            : new_agent {skills:{TEST:true,hmmmm:true}}
Expected Result  : failure
Expected Payload : "skill missing"
Comments         : Invalid skill type string should be ignored silently

Title            : Invalid skills case 1
ID               : 2.2.1
Input            : new_agent {skills:{1:"haha"}}
Expected Result  : failure
Expected Payload : "skills 1 must be true or false"

Title            : Invalid skills case 2
ID               : 2.2.2
Input            : new_agent {skills:{GENERAL_ENQUIRY:"no"}}
Expected Result  : failure
Expected Payload : "skills GENERAL_ENQUIRY must be true or false"

Title            : Invalid skills case 3
ID               : 2.2.3
Input            : new_agent {skills:2}
Expected Result  : failure
Expected Payload : "skills invalid"

Title            : Invalid skills case 4
ID               : 2.2.4
Input            : new_agent {skills:"lost"}
Expected Result  : failure
Expected Payload : "skills invalid"

Title            : Invalid skills case 5
ID               : 2.2.5
Input            : new_agent {skills:[1,2,3,4]}
Expected Result  : failure
Expected Payload : "skills invalid"


## Test Suite 3: Errors for address input
Title            : Invalid address case 1
ID               : 3.1.1
Input            : new_agent {skills:{1:true, 2:true}, address:[]}
Expected Result  : failure
Expected Payload : "address invalid"

Title            : Invalid address case 2
ID               : 3.1.2
Input            : new_agent {skills:{1:true, 2:true}, address={}}
Expected Result  : failure
Expected Payload : "address invalid"

Title            : Invalid address case 3
ID               : 3.1.3
Input            : new_agent {skills:{1:true, 2:true}, address="adsflasdfmlsdf"}
Expected Result  : failure
Expected Payload : "address invalid"

Title            : Invalid address case 4
ID               : 3.1.4
Input            : new_agent {skills:{1:true, 2:true}, address="999.999.999.999"}
Expected Result  : failure
Expected Payload : "address invalid"


## Test Suite 4: Miscellaneous cases
Title            : Missing input
ID               : 4.1
Input            : new_agent {}
Expected Result  : failure
Expected Payload : "skill missing"

Title            : Unexpected arguments
ID               : 4.2
Input            : new_agent {skills:{1:true, 2:true}, something:"something?"}
Expected Result  : success
Expected Payload : {<--agent json object-->}
Comments         : Unexpected arguments should be ignored silently

Title            : Malformed JSON object case 1
ID               : 4.3.1
Input            : new_agent "testtest"
Expected Result  : failure
Expected Payload : "malformed arguments"

Title            : Malformed JSON object case 2
ID               : 4.3.2
Input            : new_agent []
Expected Result  : failure
Expected Payload : "malformed arguments"

Title            : Malformed JSON object case 3
ID               : 4.3.3
Input            : new_agent |;!/
Expected Result  : failure
Expected Payload : "malformed arguments"

Title            : Malformed JSON object case 3
ID               : 4.3.4
Input            : new_agent }}}}
Expected Result  : failure
Expected Payload : "malformed arguments"
